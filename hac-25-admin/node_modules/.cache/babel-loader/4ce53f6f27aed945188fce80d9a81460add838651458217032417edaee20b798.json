{"ast":null,"code":"/* eslint-disable */\nimport AppLogo from \"./AppLogo.vue\";\nimport AppLoader from \"./AppLoader.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"AppLogin\",\n  components: {\n    AppLogo,\n    AppLoader\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      passOpen: false,\n      message: \"\",\n      emailInvalid: false,\n      passInvalid: false,\n      elkAuthUrl: \"https://lk.orb.ru/oauth/authorize\",\n      // URL авторизации ЕЛК\n      clientId: \"28\",\n      // Ваш client_id\n      redirectUri: \"http://hackathon-1.orb.ru/callback\",\n      // Адрес редиректа\n      responseType: \"code\",\n      scope: \"email+auth_method\",\n      // Запрашиваемые данные\n      state: \"http://hackathon-1.orb.ru/\",\n      isLoading: false\n    };\n  },\n  methods: {\n    goBack() {\n      try {\n        if (this.step > 1) {\n          this.step--;\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    openPass() {\n      try {\n        let passNode = document.querySelector(`#password`);\n        passNode.type = \"text\";\n        this.passOpen = true;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    closePass() {\n      try {\n        let passNode = document.querySelector(`#password`);\n        passNode.type = \"password\";\n        this.passOpen = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    loginWithELK() {\n      // Формируем URL для авторизации\n      const authUrl = `${this.elkAuthUrl}?client_id=${this.clientId}&redirect_uri=${this.redirectUri}&response_type=${this.responseType}&scope=${this.scope}&state=${this.state}`;\n\n      // Перенаправляем пользователя на страницу авторизации ЕЛК\n      window.location.href = authUrl;\n    },\n    async logIn() {\n      try {\n        if (this.email && this.password) {\n          this.isLoading = true;\n          let response = await axios.post(`http://213.139.211.149:4000/v1/auth/login`, {\n            email: this.email,\n            password: this.password\n          });\n          console.log(response);\n          if (response.data.status == \"ok\") {\n            this.$emit(\"goCode\", this.email);\n          } else {\n            this.message = response.data.detail;\n          }\n          setTimeout(() => {\n            this.message = \"\";\n          }, 3000);\n        }\n      } catch (err) {\n        console.log(err);\n        if (err.response.status == 404) {\n          this.message = \"Пользователь не найден\";\n        } else {\n          this.message = \"Ошибка, попробуйте позже!\";\n        }\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  },\n  mounted() {}\n};","map":{"version":3,"names":["AppLogo","AppLoader","axios","name","components","data","email","password","passOpen","message","emailInvalid","passInvalid","elkAuthUrl","clientId","redirectUri","responseType","scope","state","isLoading","methods","goBack","step","err","console","log","openPass","passNode","document","querySelector","type","closePass","loginWithELK","authUrl","window","location","href","logIn","response","post","status","$emit","detail","setTimeout","mounted"],"sources":["/Users/vadim/Desktop/hac-25-admin/src/components/AppLogin.vue"],"sourcesContent":["<script>\n/* eslint-disable */\nimport AppLogo from \"./AppLogo.vue\";\nimport AppLoader from \"./AppLoader.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"AppLogin\",\n  components: { AppLogo, AppLoader },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      passOpen: false,\n      message: \"\",\n      emailInvalid: false,\n      passInvalid: false,\n      elkAuthUrl: \"https://lk.orb.ru/oauth/authorize\", // URL авторизации ЕЛК\n      clientId: \"28\", // Ваш client_id\n      redirectUri: \"http://hackathon-1.orb.ru/callback\", // Адрес редиректа\n      responseType: \"code\",\n      scope: \"email+auth_method\", // Запрашиваемые данные\n      state: \"http://hackathon-1.orb.ru/\",\n      isLoading: false,\n    };\n  },\n  methods: {\n    goBack() {\n      try {\n        if (this.step > 1) {\n          this.step--;\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    openPass() {\n      try {\n        let passNode = document.querySelector(`#password`);\n        passNode.type = \"text\";\n        this.passOpen = true;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    closePass() {\n      try {\n        let passNode = document.querySelector(`#password`);\n        passNode.type = \"password\";\n        this.passOpen = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    loginWithELK() {\n      // Формируем URL для авторизации\n      const authUrl = `${this.elkAuthUrl}?client_id=${this.clientId}&redirect_uri=${this.redirectUri}&response_type=${this.responseType}&scope=${this.scope}&state=${this.state}`;\n\n      // Перенаправляем пользователя на страницу авторизации ЕЛК\n      window.location.href = authUrl;\n    },\n\n    async logIn() {\n      try {\n        if (this.email && this.password) {\n          this.isLoading = true;\n          let response = await axios.post(\n            `http://213.139.211.149:4000/v1/auth/login`,\n            {\n              email: this.email,\n              password: this.password,\n            }\n          );\n          console.log(response);\n          if (response.data.status == \"ok\") {\n            this.$emit(\"goCode\", this.email);\n          } else {\n            this.message = response.data.detail;\n          }\n          setTimeout(() => {\n            this.message = \"\";\n          }, 3000);\n        }\n      } catch (err) {\n        console.log(err);\n        if (err.response.status == 404) {\n          this.message = \"Пользователь не найден\";\n        } else {\n          this.message = \"Ошибка, попробуйте позже!\";\n        }\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  },\n  mounted() {},\n};\n</script>\n<template>\n  <AppLoader v-if=\"isLoading\" />\n  <div class=\"wrapper\" v-else>\n    <div class=\"card\">\n      <h2 class=\"title\">Вход</h2>\n      <div class=\"group\">\n        <label for=\"email\" class=\"group-value\">Почта</label>\n        <input\n          type=\"text\"\n          id=\"email\"\n          name=\"email\"\n          v-model=\"email\"\n          class=\"group-item\"\n          placeholder=\"john@gmail.com\"\n          @blur=\"saveEmail\"\n        />\n      </div>\n      <div class=\"group\">\n        <label for=\"password\" class=\"group-value\">Пароль</label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          v-model=\"password\"\n          class=\"group-item\"\n          :class=\"{ invalid: passInvalid }\"\n          placeholder=\"Введите пароль\"\n        />\n        <img\n          src=\"../assets/password-closed.png\"\n          class=\"password-img\"\n          alt=\"\"\n          v-if=\"!passOpen\"\n          @click=\"openPass()\"\n        />\n        <img\n          src=\"../assets/password-open.png\"\n          class=\"password-img\"\n          alt=\"\"\n          v-if=\"passOpen\"\n          @click=\"closePass()\"\n        />\n      </div>\n      <button\n        class=\"btn continue\"\n        v-if=\"!message\"\n        type=\"button\"\n        @click=\"logIn()\"\n      >\n        Войти\n      </button>\n      <div\n        class=\"msg\"\n        :class=\"{\n          success: this.message == 'Успешно',\n          error: this.message != 'Успешно',\n        }\"\n        v-if=\"message\"\n      >\n        {{ message }}\n      </div>\n      <div class=\"wrap-hr\">\n        <div class=\"hr\"></div>\n        <span>или</span>\n        <div class=\"hr\"></div>\n      </div>\n      <button class=\"btn elk\" @click=\"loginWithELK\">Войти через ЕЛК</button>\n    </div>\n  </div>\n</template>\n<style scoped>\nh1 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.04em;\n}\n\nh1 span {\n  color: #005eff;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.04em;\n}\n\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.card {\n  width: 380px;\n  margin: 0 auto;\n  border-radius: 20px;\n  padding: 30px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  cursor: default;\n}\n\n.wrap-title {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.title {\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 30px;\n  color: #14171f;\n  font-family: \"Unbounded\", serif;\n}\n\n.subtitle {\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 19px;\n  color: #14171f;\n}\n\n.group {\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.group-value {\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  color: #5b6171;\n}\n\n.group-item {\n  border-radius: 8px;\n  padding: 12px 16px;\n  border: 1px solid #dfe3ec;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  color: #5b6171;\n}\n\n.group-item::placeholder {\n  color: #8c93a6;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 22px;\n}\n\n.wrap-btns {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.btn {\n  width: 100%;\n  padding: 14.5px 20px;\n  border-radius: 8px;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 19px;\n}\n\n.continue {\n  background-color: #df3a44;\n  color: #fff;\n}\n\n.back {\n  background-color: #f8f9fc;\n  color: #14171f;\n}\n\n.wrap-sign {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.sign {\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n  color: #14171f;\n  opacity: 40%;\n}\n\na {\n  color: #005eff;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n  text-decoration: underline;\n  opacity: 100%;\n}\n\n.wrap-hr {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.wrap-hr span {\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n  color: #14171f;\n  opacity: 40%;\n}\n\n.google {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  justify-content: center;\n  border: 1px solid #dfe3ec;\n}\n\n.google span {\n  color: #1e293b;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 19px;\n}\n\n.password-img {\n  position: absolute;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  right: 3%;\n  top: 55%;\n}\n\n.wrap-forgot {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: end;\n}\n\n.forgot {\n  color: #005eff;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n}\n\n.invalid {\n  border: 1px solid #df3a44;\n  color: #df3a44;\n}\n\n.g-signin2 {\n  height: 100px;\n  width: 100%;\n}\n\n.elk {\n  background: linear-gradient(90deg, #0077b6, #00a896); /* Градиентный фон */\n  color: #fff; /* Белый текст */\n  border: none; /* Убираем границу */\n  border-radius: 8px; /* Скругление углов */\n  padding: 14.5px 20px; /* Отступы */\n  font-weight: 500; /* Жирный шрифт */\n  font-size: 14px; /* Размер шрифта */\n  line-height: 19px; /* Высота строки */\n  cursor: pointer; /* Курсор в виде указателя */\n  display: flex; /* Для центрирования текста */\n  align-items: center; /* Вертикальное центрирование */\n  justify-content: center; /* Горизонтальное центрирование */\n  transition: background 0.3s ease; /* Плавный переход для фона */\n}\n\n.elk:hover {\n  background: linear-gradient(\n    90deg,\n    #005f8b,\n    #008c7a\n  ); /* Темный градиент при наведении */\n}\n\n.elk:active {\n  background: linear-gradient(\n    90deg,\n    #004a6d,\n    #006b5f\n  ); /* Еще более темный градиент при нажатии */\n}\n@media (max-width: 450px) {\n  .card {\n    width: 330px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}