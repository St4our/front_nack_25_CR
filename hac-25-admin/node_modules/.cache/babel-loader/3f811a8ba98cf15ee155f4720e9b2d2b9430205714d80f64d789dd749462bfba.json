{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nimport _imports_0 from '../assets/password-closed.png';\nimport _imports_1 from '../assets/password-open.png';\nconst _hoisted_1 = {\n  key: 1,\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"group\"\n};\nconst _hoisted_3 = {\n  class: \"group\"\n};\nconst _hoisted_4 = {\n  class: \"wrap-sign\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppLoader = _resolveComponent(\"AppLoader\");\n  return $data.isLoading ? (_openBlock(), _createBlock(_component_AppLoader, {\n    key: 0\n  })) : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", {\n    class: \"title\"\n  }, \"Вход\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"email\",\n    class: \"group-value\"\n  }, \"Почта\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    name: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    class: \"group-item\",\n    placeholder: \"john@gmail.com\",\n    onBlur: _cache[1] || (_cache[1] = (...args) => _ctx.saveEmail && _ctx.saveEmail(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"group-value\"\n  }, \"Пароль\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    class: _normalizeClass([\"group-item\", {\n      invalid: $data.passInvalid\n    }]),\n    placeholder: \"Введите пароль\"\n  }, null, 2 /* CLASS */), [[_vModelText, $data.password]]), !$data.passOpen ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: _imports_0,\n    class: \"password-img\",\n    alt: \"\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.openPass())\n  })) : _createCommentVNode(\"v-if\", true), $data.passOpen ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 1,\n    src: _imports_1,\n    class: \"password-img\",\n    alt: \"\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.closePass())\n  })) : _createCommentVNode(\"v-if\", true)]), _cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"wrap-forgot\"\n  }, [_createElementVNode(\"a\", {\n    class: \"forgot\"\n  }, \"Забыли пароль?\")], -1 /* HOISTED */)), !$data.message ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"btn continue\",\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.logIn())\n  }, \" Войти \")) : _createCommentVNode(\"v-if\", true), $data.message ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: _normalizeClass([\"msg\", {\n      success: this.message == 'Успешно',\n      error: this.message != 'Успешно'\n    }])\n  }, _toDisplayString($data.message), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_4, [_cache[10] || (_cache[10] = _createElementVNode(\"span\", {\n    class: \"sign\"\n  }, \"У вас нет аккаунта?\", -1 /* HOISTED */)), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[6] || (_cache[6] = $event => _ctx.$emit('goReg'))\n  }, \"Зарегистрироваться\")]), _cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n    class: \"wrap-hr\"\n  }, [_createElementVNode(\"div\", {\n    class: \"hr\"\n  }), _createElementVNode(\"span\", null, \"или\"), _createElementVNode(\"div\", {\n    class: \"hr\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"btn elk\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.loginWithELK && $options.loginWithELK(...args))\n  }, \"Войти через ЕЛК\")]));\n}","map":{"version":3,"names":["_imports_0","_imports_1","key","class","$data","isLoading","_createBlock","_component_AppLoader","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","for","type","id","name","_cache","$event","email","placeholder","onBlur","args","_ctx","saveEmail","_hoisted_3","password","_normalizeClass","invalid","passInvalid","passOpen","src","alt","onClick","$options","openPass","_createCommentVNode","closePass","message","logIn","_hoisted_4","href","$emit","loginWithELK"],"sources":["/Users/vadim/Desktop/hac-25-admin/src/components/AppLogin.vue"],"sourcesContent":["<script>\n/* eslint-disable */\nimport AppLogo from \"./AppLogo.vue\";\nimport AppLoader from \"./AppLoader.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"AppLogin\",\n  components: { AppLogo, AppLoader },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      passOpen: false,\n      message: \"\",\n      emailInvalid: false,\n      passInvalid: false,\n      elkAuthUrl: \"https://lk.orb.ru/oauth/authorize\", // URL авторизации ЕЛК\n      clientId: \"28\", // Ваш client_id\n      redirectUri: \"http://hackathon-1.orb.ru/callback\", // Адрес редиректа\n      responseType: \"code\",\n      scope: \"email+auth_method\", // Запрашиваемые данные\n      state: \"http://hackathon-1.orb.ru/\",\n      isLoading: false,\n    };\n  },\n  methods: {\n    goBack() {\n      try {\n        if (this.step > 1) {\n          this.step--;\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    openPass() {\n      try {\n        let passNode = document.querySelector(`#password`);\n        passNode.type = \"text\";\n        this.passOpen = true;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    closePass() {\n      try {\n        let passNode = document.querySelector(`#password`);\n        passNode.type = \"password\";\n        this.passOpen = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    loginWithELK() {\n      // Формируем URL для авторизации\n      const authUrl = `${this.elkAuthUrl}?client_id=${this.clientId}&redirect_uri=${this.redirectUri}&response_type=${this.responseType}&scope=${this.scope}&state=${this.state}`;\n\n      // Перенаправляем пользователя на страницу авторизации ЕЛК\n      window.location.href = authUrl;\n    },\n\n    async logIn() {\n      try {\n        if (this.email && this.password) {\n          this.isLoading = true;\n          let response = await axios.post(`/auth/login`, {\n            email: this.email,\n            password: this.password,\n          });\n          console.log(response);\n          if (response.data.status == \"ok\") {\n            this.$emit(\"goCode\", this.email);\n          } else {\n            this.message = response.data.detail;\n          }\n          setTimeout(() => {\n            this.message = \"\";\n          }, 3000);\n        }\n      } catch (err) {\n        console.log(err);\n        if (err.response.status == 404) {\n          this.message = \"Пользователь не найден\";\n        } else {\n          this.message = \"Ошибка, попробуйте позже!\";\n        }\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  },\n  mounted() {},\n};\n</script>\n<template>\n  <AppLoader v-if=\"isLoading\" />\n  <div class=\"card\" v-else>\n    <h2 class=\"title\">Вход</h2>\n    <div class=\"group\">\n      <label for=\"email\" class=\"group-value\">Почта</label>\n      <input\n        type=\"text\"\n        id=\"email\"\n        name=\"email\"\n        v-model=\"email\"\n        class=\"group-item\"\n        placeholder=\"john@gmail.com\"\n        @blur=\"saveEmail\"\n      />\n    </div>\n    <div class=\"group\">\n      <label for=\"password\" class=\"group-value\">Пароль</label>\n      <input\n        type=\"password\"\n        id=\"password\"\n        name=\"password\"\n        v-model=\"password\"\n        class=\"group-item\"\n        :class=\"{ invalid: passInvalid }\"\n        placeholder=\"Введите пароль\"\n      />\n      <img\n        src=\"../assets/password-closed.png\"\n        class=\"password-img\"\n        alt=\"\"\n        v-if=\"!passOpen\"\n        @click=\"openPass()\"\n      />\n      <img\n        src=\"../assets/password-open.png\"\n        class=\"password-img\"\n        alt=\"\"\n        v-if=\"passOpen\"\n        @click=\"closePass()\"\n      />\n    </div>\n    <div class=\"wrap-forgot\">\n      <a class=\"forgot\">Забыли пароль?</a>\n    </div>\n    <button class=\"btn continue\" v-if=\"!message\" type=\"button\" @click=\"logIn()\">\n      Войти\n    </button>\n    <div\n      class=\"msg\"\n      :class=\"{\n        success: this.message == 'Успешно',\n        error: this.message != 'Успешно',\n      }\"\n      v-if=\"message\"\n    >\n      {{ message }}\n    </div>\n    <div class=\"wrap-sign\">\n      <span class=\"sign\">У вас нет аккаунта?</span>\n      <a href=\"#\" @click=\"$emit('goReg')\">Зарегистрироваться</a>\n    </div>\n    <div class=\"wrap-hr\">\n      <div class=\"hr\"></div>\n      <span>или</span>\n      <div class=\"hr\"></div>\n    </div>\n    <button class=\"btn elk\" @click=\"loginWithELK\">Войти через ЕЛК</button>\n  </div>\n</template>\n<style scoped>\nh1 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.04em;\n}\n\nh1 span {\n  color: #005eff;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.04em;\n}\n\n.wrapper {\n  height: 90vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.card {\n  width: 380px;\n  margin: 0 auto;\n  border-radius: 20px;\n  padding: 30px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  cursor: default;\n}\n\n.wrap-title {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.title {\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 30px;\n  color: #14171f;\n  font-family: \"Unbounded\", serif;\n}\n\n.subtitle {\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 19px;\n  color: #14171f;\n}\n\n.group {\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.group-value {\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  color: #5b6171;\n}\n\n.group-item {\n  border-radius: 8px;\n  padding: 12px 16px;\n  border: 1px solid #dfe3ec;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  color: #5b6171;\n}\n\n.group-item::placeholder {\n  color: #8c93a6;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 22px;\n}\n\n.wrap-btns {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.btn {\n  width: 100%;\n  padding: 14.5px 20px;\n  border-radius: 8px;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 19px;\n}\n\n.continue {\n  background-color: #df3a44;\n  color: #fff;\n}\n\n.back {\n  background-color: #f8f9fc;\n  color: #14171f;\n}\n\n.wrap-sign {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.sign {\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n  color: #14171f;\n  opacity: 40%;\n}\n\na {\n  color: #005eff;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n  text-decoration: underline;\n  opacity: 100%;\n}\n\n.wrap-hr {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.wrap-hr span {\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n  color: #14171f;\n  opacity: 40%;\n}\n\n.google {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  justify-content: center;\n  border: 1px solid #dfe3ec;\n}\n\n.google span {\n  color: #1e293b;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 19px;\n}\n\n.password-img {\n  position: absolute;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  right: 3%;\n  top: 55%;\n}\n\n.wrap-forgot {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: end;\n}\n\n.forgot {\n  color: #005eff;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: 0.01em;\n}\n\n.invalid {\n  border: 1px solid #df3a44;\n  color: #df3a44;\n}\n\n.g-signin2 {\n  height: 100px;\n  width: 100%;\n}\n\n.elk {\n  background: linear-gradient(90deg, #0077b6, #00a896); /* Градиентный фон */\n  color: #fff; /* Белый текст */\n  border: none; /* Убираем границу */\n  border-radius: 8px; /* Скругление углов */\n  padding: 14.5px 20px; /* Отступы */\n  font-weight: 500; /* Жирный шрифт */\n  font-size: 14px; /* Размер шрифта */\n  line-height: 19px; /* Высота строки */\n  cursor: pointer; /* Курсор в виде указателя */\n  display: flex; /* Для центрирования текста */\n  align-items: center; /* Вертикальное центрирование */\n  justify-content: center; /* Горизонтальное центрирование */\n  transition: background 0.3s ease; /* Плавный переход для фона */\n}\n\n.elk:hover {\n  background: linear-gradient(\n    90deg,\n    #005f8b,\n    #008c7a\n  ); /* Темный градиент при наведении */\n}\n\n.elk:active {\n  background: linear-gradient(\n    90deg,\n    #004a6d,\n    #006b5f\n  ); /* Еще более темный градиент при нажатии */\n}\n@media (max-width: 450px) {\n  .card {\n    width: 330px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}